# VITAL Path Healthcare AI Platform - Environment Configuration Template
# Copy this file to .env.local and replace with your actual values
#
# ‚ö†Ô∏è  SECURITY WARNING: Never commit actual credentials to version control
# üè• HEALTHCARE NOTICE: This platform handles PHI - ensure all credentials are secure

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application Environment
NODE_ENV=development
NEXT_PUBLIC_APP_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION (Healthcare-Compliant)
# =============================================================================

# Supabase Configuration (Primary Database)
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Database Connection (Alternative)
DATABASE_HOST=localhost
DATABASE_PORT=54322
DATABASE_NAME=vital_path_dev
DATABASE_USER=postgres
DATABASE_PASSWORD=your_database_password_here
DATABASE_SSL=false

# =============================================================================
# AI & MACHINE LEARNING SERVICES
# =============================================================================

# OpenAI Configuration (Primary AI Provider)
OPENAI_API_KEY=your_openai_api_key_here

OPENAI_ORG_ID=your_openai_org_id_here

# Anthropic Configuration (Secondary AI Provider)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google AI Configuration
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_CLOUD_PROJECT_ID=your_google_project_id_here

# Hugging Face Configuration
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# Cohere Configuration (Re-ranking & Embeddings)
COHERE_API_KEY=your_cohere_api_key_here

# =============================================================================
# VECTOR DATABASE & SEARCH
# =============================================================================

# Pinecone Configuration (Vector Database)
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment_here
PINECONE_INDEX_NAME=vital-path-medical-knowledge

# Alternative Vector Database (Supabase pgvector)
VECTOR_DB_TYPE=supabase

# =============================================================================
# RAG CONFIGURATION (NEW - Replaces Hardcoded Thresholds)
# =============================================================================

# Similarity Thresholds (by Tier)
SIMILARITY_THRESHOLD_DEFAULT=0.7           # Default threshold
SIMILARITY_THRESHOLD_TIER1=0.6             # Tier 1 agents (less strict)
SIMILARITY_THRESHOLD_TIER2=0.75            # Tier 2 agents
SIMILARITY_THRESHOLD_TIER3=0.85            # Tier 3 agents (strict)

# Medical Re-ranking Boost Values
MEDICAL_TERM_BOOST=0.05                    # +5% per medical term
SPECIALTY_MATCH_BOOST=0.10                 # +10% for specialty match
PHASE_MATCH_BOOST=0.08                     # +8% for phase match
EVIDENCE_LEVEL_BOOST_HIGH=0.05             # +5% for high evidence (RCT)
EVIDENCE_LEVEL_BOOST_MEDIUM=0.02           # +2% for medium evidence
DOCUMENT_TYPE_BOOST=0.05                   # +5% for preferred doc type

# RAG Search Parameters
RAG_MAX_SEARCH_RESULTS=10                  # Maximum results to return
RAG_RERANK_MULTIPLIER=2                    # Fetch 2x for re-ranking
RAG_SIMILARITY_THRESHOLD_MULTIPLIER=0.8    # Initial broad search multiplier

# Medical Accuracy Thresholds (by Protocol)
MEDICAL_ACCURACY_PHARMA=0.98               # PHARMA protocol (98%)
MEDICAL_ACCURACY_VERIFY=0.97               # VERIFY protocol (97%)
MEDICAL_ACCURACY_STANDARD=0.95             # Standard accuracy (95%)

# LLM Temperature Settings (by Tier)
LLM_TEMPERATURE_TIER1=0.1                  # Tier 1 (conservative)
LLM_TEMPERATURE_TIER2=0.15                 # Tier 2
LLM_TEMPERATURE_TIER3=0.05                 # Tier 3 (very conservative)
LLM_MAX_TOKENS_DEFAULT=4000                # Default max tokens

# =============================================================================
# HEALTHCARE COMPLIANCE & SECURITY
# =============================================================================

# Encryption Configuration (HIPAA Requirement)
ENCRYPTION_MASTER_KEY=your_secure_master_key_here_min_32_chars
ENCRYPTION_ALGORITHM=AES-256-GCM
ENCRYPTION_KEY_ROTATION_DAYS=30

# JWT Configuration
JWT_SECRET=your_jwt_secret_here_min_64_chars
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration (Healthcare Security)
SESSION_SECRET=your_session_secret_here_min_64_chars
SESSION_TIMEOUT=900000
SESSION_SECURE=true

# HIPAA Compliance Settings
HIPAA_MODE=strict
PHI_LOGGING_ENABLED=false
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_LEVEL=comprehensive

# =============================================================================
# MEDICAL AI VALIDATION
# =============================================================================

# PHARMA Framework Configuration
PHARMA_FRAMEWORK_ENABLED=true
PHARMA_CONFIDENCE_THRESHOLD=0.85
PHARMA_STRICT_MODE=true

# Medical Safety Configuration
MEDICAL_SAFETY_CHECKS=enabled
HARMFUL_CONTENT_DETECTION=enabled
CONFIDENCE_THRESHOLD_MEDICAL=0.8
REQUIRE_HUMAN_REVIEW=true

# FDA Compliance
FDA_VALIDATION_MODE=enabled
FDA_SAMD_COMPLIANCE=true

# =============================================================================
# DYNAMIC CONFIDENCE CALCULATION (NEW - Replaces Hardcoded Values)
# =============================================================================

# Confidence Score Weights (must sum to 1.0)
CONFIDENCE_RAG_WEIGHT=0.40              # RAG similarity score weight
CONFIDENCE_ALIGNMENT_WEIGHT=0.40        # Query-agent alignment weight
CONFIDENCE_COMPLETENESS_WEIGHT=0.20     # Response completeness weight

# Tier-Based Base Confidence (starting confidence by agent tier)
CONFIDENCE_TIER1_BASE=0.75              # Tier 1 specialists (highest)
CONFIDENCE_TIER2_BASE=0.65              # Tier 2 agents
CONFIDENCE_TIER3_BASE=0.55              # Tier 3 general agents

# Domain-Specific Confidence Boosts
CONFIDENCE_BOOST_REGULATORY=0.05        # Regulatory affairs (critical domain)
CONFIDENCE_BOOST_CLINICAL=0.03          # Clinical development
CONFIDENCE_BOOST_PHARMA=0.04            # Pharmacovigilance
CONFIDENCE_BOOST_MEDICAL=0.03           # Medical affairs

# Confidence Calculation Settings
CONFIDENCE_MIN_THRESHOLD=0.30           # Minimum confidence score
CONFIDENCE_MAX_THRESHOLD=0.99           # Maximum confidence score (never 100%)
CONFIDENCE_CALCULATION_ENABLED=true     # Enable dynamic calculation

# =============================================================================
# WORKFLOW & INTEGRATION
# =============================================================================

# n8n Workflow Configuration
N8N_BASE_URL=http://localhost:5678
N8N_API_KEY=your_n8n_api_key_here
N8N_WEBHOOK_URL=your_n8n_webhook_url_here
N8N_ENCRYPTION_KEY=your_n8n_encryption_key_here

# Zapier Integration (Alternative)
ZAPIER_WEBHOOK_URL=your_zapier_webhook_url_here

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Application Monitoring
MONITORING_ENABLED=true
HEALTH_CHECK_ENABLED=true
METRICS_COLLECTION=true

# External Logging (Healthcare Audit)
EXTERNAL_LOGGING_ENABLED=true
AUDIT_LOG_ENDPOINT=your_audit_log_endpoint_here
LOG_ENCRYPTION_ENABLED=true

# Sentry Error Tracking
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# =============================================================================
# EMAIL & NOTIFICATIONS
# =============================================================================

# Email Service (Compliance Notifications)
EMAIL_SERVICE_PROVIDER=sendgrid
EMAIL_API_KEY=your_email_api_key_here
EMAIL_FROM_ADDRESS=noreply@vitalpath.healthcare

# SMS Notifications (Critical Alerts)
SMS_SERVICE_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=your_twilio_phone_number_here

# =============================================================================
# EXTERNAL HEALTHCARE SERVICES
# =============================================================================

# FHIR Server Configuration
FHIR_BASE_URL=your_fhir_server_url_here
FHIR_AUTH_TOKEN=your_fhir_auth_token_here

# Clinical Trial Databases
CLINICALTRIALS_GOV_API_KEY=your_clinicaltrials_api_key_here

# Medical Literature APIs
PUBMED_API_KEY=your_pubmed_api_key_here
MEDLINE_API_KEY=your_medline_api_key_here

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development Mode Settings
DEBUG_MODE=true
VERBOSE_LOGGING=true
MOCK_EXTERNAL_APIS=true

# Testing Configuration
TEST_DATABASE_URL=your_test_database_url_here
TEST_SUPABASE_URL=your_test_supabase_url_here
TEST_SUPABASE_KEY=your_test_supabase_key_here

# Healthcare Test Data
GENERATE_MOCK_PHI=false
USE_SYNTHETIC_MEDICAL_DATA=true

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_FREQUENCY=daily
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION=true

# Cloud Storage (Backups)
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=us-east-1
AWS_S3_BUCKET=vital-path-backups

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Core Features
FEATURE_CLINICAL_AGENTS=true
FEATURE_KNOWLEDGE_BASE=true
FEATURE_REAL_TIME_CHAT=true
FEATURE_ANALYTICS=true

# Advanced Features
FEATURE_COMPLIANCE_MONITORING=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_API_INTEGRATIONS=true
FEATURE_MULTI_TENANT=false

# Experimental Features (Development Only)
FEATURE_EXPERIMENTAL_AI=false
FEATURE_BETA_MEDICAL_TOOLS=false

# =============================================================================
# RATE LIMITING & PERFORMANCE
# =============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_HOUR=100
RATE_LIMIT_MEDICAL_REQUESTS_PER_HOUR=50

# Caching
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
REDIS_URL=your_redis_url_here

# CDN Configuration
CDN_ENABLED=false
CDN_BASE_URL=your_cdn_url_here