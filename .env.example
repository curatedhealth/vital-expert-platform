# =============================================================================
# VITAL Platform - Environment Variables
# =============================================================================
# Copy this file to .env.local (frontend) or .env (backend) and fill in values
# NEVER commit actual .env files to version control
#
# For production:
# - Frontend (Vercel): Set variables in Vercel Dashboard → Settings → Environment Variables
# - Backend (Railway): Set variables in Railway Dashboard → Variables
# =============================================================================

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================
NODE_ENV=development
ENVIRONMENT=development
LOG_LEVEL=debug
DEBUG=true

# =============================================================================
# FRONTEND (Next.js) - Public Variables (Exposed to Browser)
# =============================================================================
# These variables are prefixed with NEXT_PUBLIC_ and are available in the browser
# ⚠️  DO NOT put secrets in NEXT_PUBLIC_ variables

NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:8000

# Supabase (Public)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# Multi-tenancy (Public)
NEXT_PUBLIC_PLATFORM_TENANT_ID=c1977eb4-cb2e-4cf7-8cf8-4ac71e27a244
NEXT_PUBLIC_STARTUP_TENANT_ID=your-startup-tenant-uuid

# =============================================================================
# FRONTEND (Next.js) - Server-Only Variables (NOT Exposed to Browser)
# =============================================================================
# These are only available on the server side

# Supabase (Server-side)
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# NextAuth
NEXTAUTH_SECRET=your-nextauth-secret-minimum-32-characters-long
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# BACKEND (FastAPI) - Database Configuration
# =============================================================================

# Supabase PostgreSQL
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-supabase-service-role-key
SUPABASE_ANON_KEY=your-supabase-anon-key

# Database Connection Pool (Optional)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# BACKEND (FastAPI) - AI Provider API Keys
# =============================================================================

# OpenAI (Required)
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic (Optional - for Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# LangChain/LangSmith (Optional - for tracing)
LANGSMITH_API_KEY=lsv2_your-langsmith-key
LANGCHAIN_TRACING_V2=true
LANGCHAIN_PROJECT=vital-dev

# =============================================================================
# BACKEND (FastAPI) - Vector Database (Pinecone)
# =============================================================================

PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=vital-production

# =============================================================================
# BACKEND (FastAPI) - Redis (Caching & Celery)
# =============================================================================

REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CACHE_TTL=3600

# =============================================================================
# BACKEND (FastAPI) - Application Settings
# =============================================================================

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Multi-tenancy
PLATFORM_TENANT_ID=550e8400-e29b-41d4-a716-446655440000

# Rate Limiting
RATE_LIMIT_RPM=1000
RATE_LIMIT_TPM=500000

# Python Runtime
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Workers
WORKERS=0

# =============================================================================
# BACKEND (FastAPI) - LangGraph & AI Configuration
# =============================================================================

# Embedding Model
EMBEDDING_MODEL=all-mpnet-base-v2
MEMORY_CACHE_TTL=86400

# Autonomous Execution (Mode 3 & 4)
AUTONOMOUS_COST_LIMIT=10.0
AUTONOMOUS_RUNTIME_LIMIT=30
MAX_TOOL_CHAIN_LENGTH=5
TOOL_CHAIN_PLANNING_MODEL=gpt-4-turbo-preview
TOOL_CHAIN_SYNTHESIS_MODEL=gpt-4-turbo-preview

# =============================================================================
# MONITORING & OBSERVABILITY (Optional)
# =============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# =============================================================================
# FEATURE FLAGS (Optional)
# =============================================================================

ENABLE_RAG=true
ENABLE_LANGGRAPH=true
ENABLE_STREAMING=true

# =============================================================================
# PRODUCTION DEPLOYMENT NOTES
# =============================================================================
#
# VERCEL (Frontend):
# - Set all NEXT_PUBLIC_* variables in Vercel Dashboard
# - Set server-only variables (SUPABASE_SERVICE_ROLE_KEY, NEXTAUTH_SECRET, etc.)
# - Environment-specific: development, preview, production
#
# RAILWAY (Backend):
# - Set all backend variables in Railway Dashboard → Variables
# - Use Railway's Redis service: REDIS_URL=${{Redis.REDIS_URL}}
# - Use Railway's Postgres service: DATABASE_URL=${{Postgres.DATABASE_URL}}
# - Environment-specific: dev, preview, production
#
# See also:
# - services/ai-engine/railway.env.template (Railway reference)
# - services/ai-engine/.railway.env.* (Environment-specific examples)
# - infrastructure/docker/env.example (Docker Compose reference)
# =============================================================================
