# GraphRAG Service Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ============================================================================
# POSTGRES (Control Plane - Supabase)
# ============================================================================
POSTGRES_HOST=your-project.supabase.co
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-supabase-password
POSTGRES_POOL_SIZE=20

# ============================================================================
# NEO4J (Knowledge Graph)
# ============================================================================
# Option 1: Local Docker
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your-neo4j-password
NEO4J_DATABASE=neo4j
NEO4J_POOL_SIZE=50

# Option 2: Neo4j Aura (Cloud)
# NEO4J_URI=neo4j+s://xxxxx.databases.neo4j.io
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=your-aura-password

# ============================================================================
# VECTOR DATABASE
# ============================================================================
# Which vector DB to use: "pgvector" or "pinecone"
VECTOR_DB_TYPE=pgvector

# pgvector (recommended - uses Supabase)
PGVECTOR_TABLE=embeddings
PGVECTOR_DIMENSION=1536

# Pinecone (alternative)
# PINECONE_API_KEY=your-pinecone-api-key
# PINECONE_ENVIRONMENT=us-east-1-aws
# PINECONE_INDEX_NAME=vital-embeddings

# ============================================================================
# ELASTICSEARCH (Keyword Search)
# ============================================================================
# Option 1: Local Docker
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX=vital_documents

# Option 2: Elastic Cloud
# ELASTICSEARCH_URL=https://your-cluster.es.io:9243
# ELASTICSEARCH_API_KEY=your-elastic-api-key

# ============================================================================
# EMBEDDING PROVIDER
# ============================================================================
EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIMENSION=1536
EMBEDDING_BATCH_SIZE=100

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key

# Alternative: Cohere
# EMBEDDING_PROVIDER=cohere
# EMBEDDING_MODEL=embed-english-v3.0
# COHERE_API_KEY=your-cohere-api-key

# ============================================================================
# RERANKER (Optional but Recommended)
# ============================================================================
RERANKER_ENABLED=true
RERANKER_PROVIDER=cohere
RERANKER_MODEL=rerank-english-v2.0
RERANKER_TOP_N=20

# Cohere (recommended)
COHERE_API_KEY=your-cohere-api-key

# ============================================================================
# SEARCH CONFIGURATION
# ============================================================================
# Vector search
VECTOR_TOP_K=50
VECTOR_SIMILARITY_THRESHOLD=0.7

# Keyword search
KEYWORD_TOP_K=50
KEYWORD_MIN_SCORE=1.0

# Graph search
GRAPH_MAX_HOPS=3
GRAPH_LIMIT=50
GRAPH_TIMEOUT_SECONDS=30

# Context building
MAX_CONTEXT_TOKENS=4000
MAX_CHUNKS=20

# Fusion
RRF_K=60

# ============================================================================
# CACHING
# ============================================================================
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000
PROFILE_CACHE_TTL=7200
KG_VIEW_CACHE_TTL=3600

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Langfuse (LLM Tracing)
LANGFUSE_ENABLED=true
LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
LANGFUSE_HOST=https://cloud.langfuse.com

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# SERVICE SETTINGS
# ============================================================================
MAX_CONCURRENT_QUERIES=100
QUERY_TIMEOUT_SECONDS=30

# ============================================================================
# DEVELOPMENT SETTINGS (Optional)
# ============================================================================
# Uncomment for development
# LOG_LEVEL=DEBUG
# LOG_FORMAT=text
# CACHE_ENABLED=false

