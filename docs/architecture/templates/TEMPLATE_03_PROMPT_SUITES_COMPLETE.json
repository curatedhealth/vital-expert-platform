{
  "metadata": {
    "template_version": "1.0.0",
    "created_date": "2025-11-09",
    "purpose": "Complete prompt library structure with suites, subsuites, and detailed user prompts",
    "prompt_architecture": "dh_prompt_suite → dh_prompt_subsuite → dh_prompt → dh_prompt_version",
    "usage_instructions": "Use this template to create structured prompt libraries for Medical Affairs workflows"
  },
  "prompt_library_structure": {
    "hierarchy": {
      "level_1": "Prompt Suite (Strategic Pillar level)",
      "level_2": "Prompt Subsuite (Workflow or Use Case level)",
      "level_3": "Individual Prompts (Task level)",
      "level_4": "Prompt Versions (Iterations and A/B testing)"
    },
    "tables": {
      "dh_prompt_suite": "Top-level organization by strategic pillar or domain",
      "dh_prompt_subsuite": "Mid-level organization by workflow or capability",
      "dh_prompt": "Individual prompt with pattern, system prompt, and user template",
      "dh_prompt_version": "Version control and experimentation",
      "dh_prompt_suite_prompt": "Many-to-many relationship between suites and prompts"
    }
  },
  "prompt_suite_template": {
    "id": "uuid",
    "tenant_id": "uuid (multi-tenant support)",
    "unique_id": "suite_{pillar}_{name}",
    "name": "Suite Display Name",
    "description": "Comprehensive description of the suite's purpose and scope",
    "category": "medical_affairs / clinical_operations / regulatory / digital_health",
    "tags": [
      "strategic-pillar-sp01",
      "market-access",
      "evidence-generation"
    ],
    "metadata": {
      "strategic_pillar": "SP01",
      "pillar_name": "Growth & Market Access",
      "workflows_covered": 19,
      "total_prompts": 45,
      "owner": "Medical Affairs Leadership",
      "created_date": "2025-11-09",
      "last_updated": "2025-11-09"
    },
    "is_active": true,
    "position": 1
  },
  "prompt_subsuite_template": {
    "id": "uuid",
    "tenant_id": "uuid",
    "suite_id": "uuid (parent suite)",
    "unique_id": "subsuite_{workflow}_{name}",
    "name": "Subsuite Display Name (e.g., HTA Evidence Generation)",
    "description": "Detailed description of the subsuite's scope",
    "tags": [
      "hta",
      "evidence-generation",
      "payer-strategy"
    ],
    "metadata": {
      "workflow_id": "WF-001-A",
      "workflow_name": "HTA Evidence Generation",
      "use_case_id": "UC-001",
      "phase_count": 4,
      "task_count": 12,
      "prompt_count": 8
    },
    "is_active": true,
    "position": 1
  },
  "prompt_template": {
    "id": "uuid",
    "tenant_id": "uuid",
    "task_id": "uuid (link to workflow task)",
    "unique_id": "prompt_{task}_{name}",
    "name": "Prompt_Name_CamelCase",
    "pattern": "CoT / RAG / Few-Shot / Zero-Shot / ReAct / Chain / Tree",
    "system_prompt": "You are a [role] with expertise in [domain]. Your task is to [objective]. Always [guidelines]. Structure your response with [format].",
    "user_template": "Template with {variable} placeholders for dynamic content. Example: Analyze the HTA submission for {product_name} targeting {indication} in {market}.",
    "category": "analysis / generation / review / planning / optimization",
    "tags": [
      "hta",
      "evidence-synthesis",
      "strategic-planning"
    ],
    "metadata": {
      "task_id": "T1001",
      "task_name": "Define HTA scope and objectives",
      "workflow_id": "WF-001-A",
      "complexity": "Expert",
      "estimated_tokens": 2000,
      "typical_duration_minutes": 15
    },
    "prompt_identifier": "HTA_SCOPE_DEFINITION_V1",
    "version_label": "v1.0.0",
    "owner": {
      "user_id": "system",
      "team": "Medical Affairs",
      "contact": "ma_operations@example.com"
    },
    "model_config": {
      "model": "gpt-4o",
      "temperature": 0.7,
      "max_tokens": 4000,
      "top_p": 0.9,
      "frequency_penalty": 0.0,
      "presence_penalty": 0.0
    },
    "guardrails": {
      "input_validation": ["required_fields", "field_types", "value_ranges"],
      "output_validation": ["format_check", "completeness_check", "toxicity_filter"],
      "safety_filters": ["pii_detection", "phi_detection", "bias_detection"]
    },
    "evals": {
      "accuracy_threshold": 0.85,
      "consistency_threshold": 0.90,
      "relevance_threshold": 0.80,
      "test_cases": [
        {
          "input": "Sample input for testing",
          "expected_output": "Expected output pattern or criteria",
          "evaluation_metrics": ["accuracy", "completeness", "coherence"]
        }
      ]
    },
    "rollout": "production / staging / experimental / deprecated"
  },
  "example_suites": [
    {
      "suite_id": "suite_sp01_market_access",
      "name": "SP01: Market Access & Growth",
      "description": "Complete prompt suite for market access strategy, HTA submissions, payer engagement, and launch readiness",
      "category": "medical_affairs",
      "subsuites": [
        {
          "subsuite_id": "subsuite_hta_evidence",
          "name": "HTA Evidence Generation & Submission",
          "description": "Prompts for HTA dossier development, evidence synthesis, and submission preparation",
          "prompts": [
            {
              "name": "HTA_Scope_Definition",
              "pattern": "CoT",
              "system_prompt": "You are an HTA Strategy Expert with 15+ years of experience in health technology assessment across ICER, NICE, CADTH, and pBPA. Your role is to help Medical Affairs teams define comprehensive HTA scopes that align with regulatory requirements, payer priorities, and product positioning strategy. Always consider clinical evidence strength, economic value proposition, and competitive landscape. Structure your response with clear objectives, scope boundaries, key stakeholders, submission timeline, and success criteria.",
              "user_template": "Define the HTA scope for {product_name} (indication: {indication}) targeting {target_market}. Consider: clinical trial data available: {trial_data_summary}, comparator landscape: {comparator_info}, target submission timeline: {timeline}, payer priorities: {payer_priorities}. Provide: 1) HTA objectives, 2) Scope definition, 3) Key evidence requirements, 4) Stakeholder map, 5) Timeline and milestones.",
              "task_mapping": "T1001: Define HTA scope and objectives"
            },
            {
              "name": "Evidence_Gap_Analysis",
              "pattern": "RAG",
              "system_prompt": "You are an Evidence Strategy Specialist expert in identifying evidence gaps for HTA submissions. Your role is to systematically compare available clinical and economic evidence against HTA body requirements and identify critical gaps. Use RAG to retrieve relevant HTA guidelines, precedent submissions, and assessment reports. Structure your analysis with evidence inventory, requirement mapping, gap identification, and prioritized fill strategy.",
              "user_template": "Conduct evidence gap analysis for {product_name} HTA submission to {hta_body}. Available evidence: {evidence_list}. HTA body requirements: {hta_requirements}. Compare available evidence against requirements and identify: 1) Critical gaps (must-fill), 2) Important gaps (should-fill), 3) Nice-to-have gaps, 4) Prioritized evidence generation plan with timelines and costs.",
              "task_mapping": "T1002: Conduct evidence gap analysis"
            },
            {
              "name": "Value_Dossier_Structure",
              "pattern": "Few-Shot",
              "system_prompt": "You are a Value Dossier Architect with expertise in creating compelling, evidence-based HTA submission dossiers. Your role is to design dossier structures that tell a clear value story while meeting all technical requirements. Reference successful dossier examples for similar therapeutic areas and HTA bodies. Structure your recommendations with section outline, content requirements, evidence placement, and narrative flow.",
              "user_template": "Design the value dossier structure for {product_name} submission to {hta_body}. Therapeutic area: {therapeutic_area}, product profile: {product_profile}, key differentiators: {differentiators}, target audience: {audience}. Provide: 1) Executive summary structure, 2) Section-by-section outline, 3) Evidence allocation map, 4) Narrative arc and key messages, 5) Visual/table plan.",
              "task_mapping": "T1003: Design value dossier structure"
            }
          ]
        },
        {
          "subsuite_id": "subsuite_payer_engagement",
          "name": "Payer Engagement & Account Planning",
          "description": "Prompts for payer segmentation, account planning, and engagement strategy",
          "prompts": [
            {
              "name": "Payer_Segmentation_Analysis",
              "pattern": "CoT",
              "system_prompt": "You are a Payer Strategy Expert specializing in payer segmentation and account planning. Your role is to help Medical Affairs teams segment payers based on influence, decision criteria, and engagement readiness. Consider formulary position, clinical criteria, economic barriers, and competitive dynamics. Structure your analysis with segmentation framework, tier definitions, engagement priorities, and resource allocation recommendations.",
              "user_template": "Segment payers for {product_name} in {market}. Payer universe: {payer_list}, product attributes: {product_profile}, competitive landscape: {competitors}, available budget: {budget}. Provide: 1) Segmentation framework (Tier 1/2/3), 2) Payer profiles by tier, 3) Prioritization criteria, 4) Resource allocation model, 5) Engagement strategy by tier.",
              "task_mapping": "T1100: Segment payer universe and prioritize accounts"
            },
            {
              "name": "Account_Plan_Development",
              "pattern": "CoT",
              "system_prompt": "You are a Payer Account Planning Specialist with deep expertise in formulary strategy and P&T committee engagement. Your role is to create detailed, actionable account plans that drive formulary wins. Always include situational analysis, stakeholder mapping, value proposition, engagement tactics, and success metrics. Structure your plan with current state assessment, objectives, strategies, tactics, timeline, and measurement framework.",
              "user_template": "Develop an account plan for {payer_name} to secure {formulary_position} for {product_name}. Current status: {current_position}, key decision makers: {stakeholders}, upcoming P&T dates: {pt_dates}, competitive intel: {competition}, clinical/economic data available: {evidence}. Provide: 1) Situation analysis, 2) Account objectives, 3) Stakeholder engagement plan, 4) Value messaging, 5) Tactical roadmap with milestones, 6) Success metrics.",
              "task_mapping": "T1101: Develop comprehensive account plan"
            }
          ]
        }
      ]
    },
    {
      "suite_id": "suite_sp02_scientific_excellence",
      "name": "SP02: Scientific Excellence",
      "description": "Complete prompt suite for publications, congress strategy, and evidence generation",
      "category": "medical_affairs",
      "subsuites": [
        {
          "subsuite_id": "subsuite_publications_planning",
          "name": "Publications Planning & Strategy",
          "description": "Prompts for publication roadmap, manuscript development, and journal selection",
          "prompts": [
            {
              "name": "Publication_Roadmap_Development",
              "pattern": "CoT",
              "system_prompt": "You are a Medical Publications Strategist with 12+ years of experience in developing strategic publication plans for pharmaceutical products. Your role is to create comprehensive publication roadmaps that align with product lifecycle, regulatory milestones, and scientific communication objectives. Always consider journal impact, audience reach, timing, and resource constraints. Structure your roadmap with strategic rationale, priority publications, timeline, author network, and success metrics.",
              "user_template": "Develop a 24-month publication roadmap for {product_name} (therapeutic area: {therapeutic_area}). Available data: {data_assets}, product lifecycle stage: {lifecycle_stage}, key milestones: {milestones}, target audience: {audience}, competitive landscape: {competitors}. Provide: 1) Strategic objectives, 2) Priority publication list (ranked), 3) Timeline with dependencies, 4) Author and collaborator network, 5) Resource requirements, 6) Success KPIs.",
              "task_mapping": "T2000: Develop strategic publication roadmap"
            },
            {
              "name": "Manuscript_Outline_Creation",
              "pattern": "Few-Shot",
              "system_prompt": "You are a Senior Medical Writer expert in creating structured manuscript outlines for high-impact journals. Your role is to develop clear, compelling outlines that tell a complete scientific story while meeting journal requirements. Reference successful manuscripts in similar therapeutic areas. Structure your outline with background, methods, results framework, discussion points, and key messages.",
              "user_template": "Create a manuscript outline for publication of {study_name} results in {target_journal}. Study design: {study_design}, primary endpoint: {primary_endpoint}, key results: {results_summary}, target word count: {word_count}, unique angle: {unique_perspective}. Provide: 1) Title options (3), 2) Abstract structure, 3) Section-by-section outline with word targets, 4) Key figures/tables plan, 5) Discussion flow with key messages, 6) Author contribution plan.",
              "task_mapping": "T2001: Develop manuscript outline"
            }
          ]
        }
      ]
    },
    {
      "suite_id": "suite_sp07_innovation_digital",
      "name": "SP07: Innovation & Digital",
      "description": "Complete prompt suite for digital transformation, AI/ML deployment, and innovation management",
      "category": "digital_health",
      "subsuites": [
        {
          "subsuite_id": "subsuite_digital_transformation",
          "name": "Digital Transformation Roadmap",
          "description": "Prompts for digital strategy, use case identification, and roadmap development",
          "prompts": [
            {
              "name": "Digital_Maturity_Assessment",
              "pattern": "CoT",
              "system_prompt": "You are a Digital Transformation Strategist with expertise in healthcare digital maturity assessment. Your role is to evaluate Medical Affairs digital capabilities across people, process, technology, and data dimensions. Use industry frameworks (e.g., MIT CISR, Deloitte Digital Maturity Model) to benchmark current state and identify gaps. Structure your assessment with capability scoring, benchmarking, gap analysis, and prioritized recommendations.",
              "user_template": "Conduct digital maturity assessment for Medical Affairs at {organization_name}. Current capabilities: {current_state}, target state: {target_vision}, industry benchmarks: {benchmarks}, constraints: {constraints}. Assess across: 1) Digital strategy & governance, 2) Data & analytics, 3) Process automation, 4) Technology platforms, 5) Digital skills & culture. Provide maturity scores (1-5), gap analysis, quick wins, and transformation priorities.",
              "task_mapping": "T4000: Conduct digital maturity assessment"
            },
            {
              "name": "Use_Case_Prioritization",
              "pattern": "CoT",
              "system_prompt": "You are an Innovation Portfolio Manager expert in prioritizing digital use cases for Medical Affairs. Your role is to evaluate potential use cases across value (impact), feasibility (complexity), and strategic alignment. Use scoring frameworks that balance quick wins with transformational initiatives. Structure your analysis with use case inventory, evaluation criteria, scoring matrix, prioritized roadmap, and implementation sequencing.",
              "user_template": "Prioritize digital use cases for Medical Affairs transformation at {organization}. Use case backlog: {use_cases}, evaluation criteria: {criteria}, available resources: {resources}, timeline: {timeline}, strategic priorities: {priorities}. Evaluate each use case on: 1) Business value (1-10), 2) Technical feasibility (1-10), 3) Resource requirements, 4) Time to value, 5) Strategic alignment. Provide prioritized list with rationale, quick wins (0-6 months), medium-term (6-12 months), long-term (12+ months).",
              "task_mapping": "T4001: Identify high-impact use cases"
            }
          ]
        }
      ]
    }
  ],
  "prompt_patterns": {
    "CoT": {
      "name": "Chain-of-Thought",
      "description": "Step-by-step reasoning for complex problems",
      "best_for": "Strategic planning, analysis, decision-making",
      "template_structure": "Break down the problem → Analyze each component → Synthesize → Recommend"
    },
    "RAG": {
      "name": "Retrieval-Augmented Generation",
      "description": "Retrieve relevant context before generating response",
      "best_for": "Evidence-based analysis, regulatory guidance, precedent research",
      "template_structure": "Query knowledge base → Retrieve relevant docs → Synthesize with query → Generate response"
    },
    "Few-Shot": {
      "name": "Few-Shot Learning",
      "description": "Provide examples to guide output format and style",
      "best_for": "Content creation, document generation, formatting tasks",
      "template_structure": "Show 2-3 examples → Describe pattern → Request similar output"
    },
    "Zero-Shot": {
      "name": "Zero-Shot",
      "description": "Direct instruction without examples",
      "best_for": "Simple tasks, well-defined outputs, general knowledge",
      "template_structure": "Clear instruction → Context → Expected output format"
    },
    "ReAct": {
      "name": "Reasoning + Acting",
      "description": "Interleave reasoning and action steps",
      "best_for": "Multi-step workflows, research tasks, tool use",
      "template_structure": "Thought → Action → Observation → Repeat → Answer"
    }
  },
  "usage_notes": {
    "suite_organization": "Create one suite per strategic pillar (SP01-SP07)",
    "subsuite_granularity": "One subsuite per major workflow or use case",
    "prompt_versioning": "Use semantic versioning (v1.0.0) and track changes in dh_prompt_version",
    "pattern_selection": "Choose pattern based on task complexity and required reasoning depth",
    "system_prompt_quality": "Invest in detailed, role-specific system prompts with clear guidelines and output structure",
    "user_template_variables": "Use {variable_name} syntax for dynamic content placeholders",
    "evaluation": "Define clear evaluation criteria and test cases for each prompt",
    "guardrails": "Implement input/output validation and safety filters for production use",
    "metadata_tracking": "Maintain rich metadata for discoverability and governance"
  }
}

