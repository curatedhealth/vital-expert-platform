-- Insert data using the correct schemas for all tables

-- Insert LLM Providers (using the correct schema we already identified)
INSERT INTO public.llm_providers (
  provider_name, 
  provider_type, 
  api_endpoint, 
  model_id, 
  model_version,
  capabilities,
  cost_per_1k_input_tokens,
  cost_per_1k_output_tokens,
  max_tokens,
  temperature_default,
  rate_limit_rpm,
  rate_limit_tpm,
  priority_level,
  weight,
  status,
  is_active,
  is_hipaa_compliant,
  is_production_ready,
  medical_accuracy_score,
  average_latency_ms,
  uptime_percentage,
  health_check_enabled,
  health_check_interval_minutes,
  health_check_timeout_seconds,
  metadata,
  tags
) VALUES
  (
    'OpenAI GPT-4',
    'openai',
    'https://api.openai.com/v1',
    'gpt-4',
    'gpt-4-1106-preview',
    '{"text_generation": true, "chat": true, "embeddings": true}',
    0.03,
    0.06,
    4096,
    0.7,
    500,
    150000,
    1,
    1.0,
    'active',
    true,
    false,
    true,
    0.95,
    1200,
    99.9,
    true,
    5,
    30,
    '{"description": "OpenAI GPT-4 for general medical assistance"}',
    ARRAY['general', 'medical', 'gpt-4']
  ),
  (
    'Anthropic Claude',
    'anthropic',
    'https://api.anthropic.com/v1',
    'claude-3-5-sonnet',
    'claude-3-5-sonnet-20241022',
    '{"text_generation": true, "chat": true, "analysis": true}',
    0.015,
    0.075,
    8192,
    0.7,
    1000,
    200000,
    1,
    1.0,
    'active',
    true,
    true,
    true,
    0.98,
    800,
    99.8,
    true,
    5,
    30,
    '{"description": "Anthropic Claude for medical analysis and compliance"}',
    ARRAY['medical', 'compliance', 'claude']
  )
ON CONFLICT (id) DO NOTHING;

-- Insert Knowledge Domains (using the correct schema with required 'code' column)
INSERT INTO public.knowledge_domains (
  code,
  name, 
  slug, 
  description, 
  tier, 
  priority, 
  keywords,
  sub_domains,
  agent_count_estimate,
  color,
  is_active,
  metadata
) VALUES
  (
    'REG_AFF',
    'Regulatory Affairs', 
    'regulatory-affairs', 
    'FDA, EMA, and global regulatory requirements', 
    1, 
    1, 
    ARRAY['FDA', 'EMA', 'regulatory', 'compliance'],
    ARRAY['FDA Submissions', 'EMA Procedures', 'Global Regulations'],
    25,
    '#3B82F6',
    true,
    '{"category": "regulatory", "complexity": "high"}'
  ),
  (
    'CLIN_DEV',
    'Clinical Development', 
    'clinical-development', 
    'Clinical trial design and execution', 
    1, 
    2, 
    ARRAY['clinical trials', 'protocols', 'study design'],
    ARRAY['Protocol Design', 'Trial Management', 'Data Analysis'],
    30,
    '#10B981',
    true,
    '{"category": "clinical", "complexity": "high"}'
  ),
  (
    'MED_AFF',
    'Medical Affairs', 
    'medical-affairs', 
    'Medical information and scientific communications', 
    1, 
    3, 
    ARRAY['medical information', 'scientific', 'communications'],
    ARRAY['Medical Information', 'Scientific Communications', 'KOL Management'],
    20,
    '#8B5CF6',
    true,
    '{"category": "medical", "complexity": "medium"}'
  ),
  (
    'QA_COMP',
    'Quality Assurance', 
    'quality-assurance', 
    'Quality systems and compliance', 
    1, 
    4, 
    ARRAY['quality', 'compliance', 'systems'],
    ARRAY['Quality Systems', 'Compliance', 'Audits'],
    15,
    '#F59E0B',
    true,
    '{"category": "quality", "complexity": "medium"}'
  )
ON CONFLICT (name) DO NOTHING;

-- Insert Agents (using the correct schema with all required columns)
INSERT INTO public.agents (
  name,
  display_name,
  description,
  avatar,
  color,
  system_prompt,
  model,
  temperature,
  max_tokens,
  capabilities,
  specializations,
  tools,
  tier,
  priority,
  implementation_phase,
  rag_enabled,
  knowledge_domains,
  data_sources,
  roi_metrics,
  use_cases,
  target_users,
  required_integrations,
  security_level,
  compliance_requirements,
  status,
  is_custom,
  business_function,
  role,
  medical_specialty,
  hipaa_compliant,
  pharma_enabled,
  verify_enabled,
  domain_expertise,
  cost_per_query,
  validation_status,
  performance_metrics,
  accuracy_score,
  evidence_required,
  regulatory_context,
  compliance_tags,
  gdpr_compliant,
  audit_trail_enabled,
  data_classification,
  is_public,
  clinical_validation_status,
  medical_accuracy_score,
  citation_accuracy,
  hallucination_rate,
  medical_error_rate,
  average_latency_ms,
  regulatory_pathway,
  submission_type,
  regulatory_risk_level,
  clinical_trial_phase,
  patient_population,
  therapeutic_area,
  endpoint_types,
  statistical_methods,
  clinical_standards,
  validation_method,
  validation_scope,
  success_metrics,
  usage_analytics,
  feedback_score,
  user_satisfaction,
  recommendation_score,
  regulatory_intelligence,
  market_authorization_status,
  submission_timeline,
  regulatory_milestones,
  clinical_intelligence,
  study_design_expertise,
  protocol_templates,
  biostatistics_capabilities
) VALUES
  (
    'FDA Regulatory Strategist',
    'FDA Regulatory Strategist',
    'Expert FDA regulatory strategist for drug and device approvals',
    'https://api.dicebear.com/7.x/avataaars/svg?seed=FDA',
    '#3B82F6',
    'You are an expert FDA regulatory strategist with deep knowledge of drug and device approval processes. Provide accurate, evidence-based regulatory guidance.',
    'gpt-4',
    0.3,
    2000,
    '{"regulatory_strategy": true, "submission_planning": true, "compliance": true}',
    '{"FDA_submissions": "expert", "regulatory_strategy": "expert", "compliance": "expert"}',
    '{"regulatory_databases": true, "submission_templates": true, "guidance_documents": true}',
    1,
    1,
    1,
    true,
    '{"domains": ["regulatory-affairs"], "expertise_level": "expert"}',
    '{"FDA_guidance": true, "regulatory_databases": true, "precedent_submissions": true}',
    '{"cost_savings": "high", "time_reduction": "medium", "compliance_improvement": "high"}',
    '{"regulatory_strategy": true, "submission_planning": true, "compliance_review": true}',
    '{"regulatory_affairs": true, "clinical_teams": true, "legal_teams": true}',
    '{"FDA_portals": true, "regulatory_databases": true, "document_management": true}',
    'high',
    '{"FDA_compliance": true, "HIPAA": true, "GDPR": true}',
    'active',
    false,
    'Regulatory Affairs',
    'Regulatory Strategist',
    'Regulatory Medicine',
    true,
    true,
    true,
    'FDA regulatory strategy and submissions',
    0.05,
    'validated',
    '{"accuracy": 0.95, "response_time": 1200, "user_satisfaction": 0.92}',
    0.95,
    true,
    '{"FDA_guidance": true, "regulatory_precedents": true}',
    ARRAY['FDA', 'regulatory', 'compliance'],
    true,
    true,
    'confidential',
    true,
    'validated',
    0.95,
    0.98,
    0.02,
    0.01,
    1200,
    '510(k)',
    'PMA',
    'medium',
    'Phase III',
    'Adult patients with chronic conditions',
    'Cardiovascular',
    '{"primary": "efficacy", "secondary": "safety"}',
    '{"statistical_analysis": true, "power_calculation": true}',
    '{"ICH_GCP": true, "FDA_guidance": true}',
    'clinical_validation',
    'FDA regulatory submissions and strategy',
    '{"accuracy": 0.95, "compliance_rate": 0.98}',
    '{"usage_count": 150, "satisfaction": 0.92}',
    0.92,
    0.92,
    0.94,
    '{"FDA_guidance": true, "regulatory_trends": true}',
    'approved',
    '{"pre_submission": "3_months", "submission": "6_months"}',
    '{"IND": true, "NDA": true, "BLA": true}',
    '{"clinical_trial_design": true, "protocol_development": true}',
    '{"study_design": "expert", "protocol_development": "expert"}',
    '{"protocol_templates": true, "case_report_forms": true}',
    '{"statistical_analysis": true, "power_calculation": true}'
  ),
  (
    'Clinical Protocol Designer',
    'Clinical Protocol Designer',
    'Expert clinical research professional for trial design',
    'https://api.dicebear.com/7.x/avataaars/svg?seed=Clinical',
    '#10B981',
    'You are an expert clinical research professional specializing in clinical trial design and protocol development. Provide evidence-based clinical research guidance.',
    'gpt-4',
    0.3,
    2000,
    '{"protocol_design": true, "trial_management": true, "statistical_analysis": true}',
    '{"protocol_development": "expert", "trial_design": "expert", "biostatistics": "expert"}',
    '{"protocol_templates": true, "statistical_software": true, "regulatory_databases": true}',
    1,
    2,
    1,
    true,
    '{"domains": ["clinical-development"], "expertise_level": "expert"}',
    '{"clinical_databases": true, "protocol_templates": true, "regulatory_guidance": true}',
    '{"cost_savings": "high", "time_reduction": "high", "quality_improvement": "high"}',
    '{"protocol_design": true, "trial_planning": true, "statistical_analysis": true}',
    '{"clinical_teams": true, "biostatisticians": true, "regulatory_teams": true}',
    '{"clinical_databases": true, "statistical_software": true, "document_management": true}',
    'high',
    '{"ICH_GCP": true, "HIPAA": true, "GDPR": true}',
    'active',
    false,
    'Clinical Development',
    'Clinical Research Professional',
    'Clinical Research',
    true,
    true,
    true,
    'Clinical trial design and protocol development',
    0.05,
    'validated',
    '{"accuracy": 0.94, "response_time": 1000, "user_satisfaction": 0.90}',
    0.94,
    true,
    '{"ICH_guidance": true, "clinical_precedents": true}',
    ARRAY['clinical', 'protocols', 'trials'],
    true,
    true,
    'confidential',
    true,
    'validated',
    0.94,
    0.97,
    0.03,
    0.02,
    1000,
    'IND',
    'Phase I/II/III',
    'low',
    'Phase II',
    'Adult and pediatric patients',
    'Oncology',
    '{"primary": "efficacy", "secondary": "safety", "exploratory": "biomarkers"}',
    '{"adaptive_design": true, "interim_analysis": true}',
    '{"ICH_GCP": true, "FDA_guidance": true}',
    'clinical_validation',
    'Clinical trial protocol design and development',
    '{"accuracy": 0.94, "protocol_quality": 0.96}',
    '{"usage_count": 120, "satisfaction": 0.90}',
    0.90,
    0.90,
    0.92,
    '{"clinical_trends": true, "regulatory_guidance": true}',
    'in_development',
    '{"protocol_development": "2_months", "regulatory_review": "1_month"}',
    '{"protocol_approval": true, "trial_initiation": true}',
    '{"clinical_trial_design": true, "protocol_optimization": true}',
    '{"study_design": "expert", "protocol_development": "expert", "biostatistics": "expert"}',
    '{"protocol_templates": true, "case_report_forms": true, "statistical_plans": true}',
    '{"adaptive_design": true, "interim_analysis": true, "power_calculation": true}'
  )
ON CONFLICT (display_name) DO NOTHING;
