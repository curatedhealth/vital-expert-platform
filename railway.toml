[build]
builder = "DOCKERFILE"
dockerfilePath = "services/ai-engine/Dockerfile"
watchPatterns = ["services/ai-engine/**"]

[deploy]
startCommand = "python3 -m uvicorn main:app --host 0.0.0.0 --port $PORT --app-dir services/ai-engine/src --workers 2"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Railway configuration for monorepo deployment
# Service: ai-engine (services/ai-engine/)
# This file must be at repo root for Railway to find it
